<ui:composition 
	template="templateMenu.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui2="http://java.sun.com/jsf/facelets"
	xmlns:tm="http://java.sun.com/jsf/composite/terminal/1_0/components">
	
	<ui:define name="title">
		<h:outputText value="#{msg['pages.cadastroCliente.title']}" />
	</ui:define>
	
	<ui:define name="principal">
	  
	  	<h1><p:outputLabel value="#{msg['pages.cadastroCliente.title']}"/></h1>
	  
	  	<h:form id="formCliente">	
	  		<p:panelGrid columns="2">
      			<p:outputLabel value="#{msg['pages.cadastroCliente.cpf']}" />
      			<p:inputText value="#{clienteBeans.cliente.cpf}"/>
      			
      			<p:outputLabel value="#{msg['pages.cadastroCliente.nome']}" />
      			<p:inputText value="#{clienteBeans.cliente.nome}"/>
      			
      			<p:outputLabel value="#{msg['pages.cadastroCliente.endereco']}" />
      			<p:inputText value="#{clienteBeans.cliente.endereco}"/>
      			
      			<p:outputLabel value="#{msg['pages.cadastroCliente.cidade']}" />
      			<p:inputText value="#{clienteBeans.cliente.cidade}"/>
      			
      			<p:outputLabel value="#{msg['pages.cadastroCliente.cep']}" />
      			<p:inputText value="#{clienteBeans.cliente.cep}"/>
      			
      			<p:outputLabel value="#{msg['pages.cadastroCliente.uf']}" />
      			<p:inputText value="#{clienteBeans.cliente.uf}"/>
      			
      			<p:outputLabel value="#{msg['pages.cadastroCliente.ddd']}" />
      			<p:inputText value="#{clienteBeans.cliente.ddd}"/>
      			
      			<p:outputLabel value="#{msg['pages.cadastroCliente.telefone']}" />
      			<p:inputText value="#{clienteBeans.cliente.telefone}"/>
      			
      			<p:outputLabel value="#{msg['pages.cadastroCliente.limiteCred']}" />
      			<p:inputText value="#{clienteBeans.cliente.limiteCred}"/>
      			
      			<p:outputLabel value="#{msg['pages.cadastroCliente.limiteDisp']}" />
      			<p:inputText value="#{clienteBeans.cliente.limiteDisp}"/>
	  		</p:panelGrid>
	  		<br/>
	  		<p:commandButton 	value="#{msg['pages.comuns.form.btnSalvar']}" 
	                 			action="#{clienteBeans.salvar}"
	                 			update=":formCliente, :formTableCliente"/>
   		</h:form>
   		<br/>
   		<h3><p:outputLabel value="#{msg['pages.cadastroCliente.tableTitle']}"/></h3>
   		
   		<h:form id="formTableCliente">
    		<p:dataTable	value="#{clienteBeans.clientes}"
                			var="aux"
                			id="tabelaCliente"
                			scrollable="true"
                			editable="true"
                			paginator="true"
                			rows="5"
                			paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                			rowsPerPageTemplate="5,10,15"
                			emptyMessage="#{msg['pages.cadastroCliente.filterMSG']}">
                			
      			<p:ajax event="rowEdit" listener="#{clienteBeans.onRowEdit}" update="tabelaCliente" />
      			
      			<p:column headerText="#{msg['pages.cadastroCliente.cpf']}" filterBy="#{aux.cpf}" filterStyle="width:150px" style="width:160px">
    				<p:cellEditor>
						<f:facet name="output">
							<p:outputLabel value="#{aux.cpf}"/>
						</f:facet>
						<f:facet name="input">
							<p:inputText id="clienteCpf" value="#{aux.cpf}" style="width:100%" />
						</f:facet>
					</p:cellEditor>
	  			</p:column>
	  			
	  			<p:column headerText="#{msg['pages.cadastroCliente.nome']}" filterBy="#{aux.nome}" filterStyle="width:350px" style="width:360px" >
    				<p:cellEditor>
						<f:facet name="output">
							<p:outputLabel value="#{aux.nome}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText id="clienteNome" value="#{aux.nome}" style="width:100%" />
						</f:facet>
					</p:cellEditor>
	  			</p:column>

	  			<p:column headerText="#{msg['pages.cadastroCliente.endereco']}" filterBy="#{aux.endereco}" filterStyle="width:350px" style="width:360px">
    				<p:cellEditor>
						<f:facet name="output">
							<p:outputLabel value="#{aux.endereco}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText id="clienteEndereco" value="#{aux.endereco}" style="width:100%" />
						</f:facet>
					</p:cellEditor>
	  			</p:column>
	  			
	  			<p:column headerText="#{msg['pages.cadastroCliente.cidade']}" filterBy="#{aux.cidade}" filterStyle="width:200px" style="width:210px">
    				<p:cellEditor>
						<f:facet name="output">
							<p:outputLabel value="#{aux.cidade}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText id="clienteCidade" value="#{aux.cidade}" style="width:100%" />
						</f:facet>
					</p:cellEditor>
	  			</p:column>
	  			
	  			<p:column headerText="#{msg['pages.cadastroCliente.cep']}" filterBy="#{aux.cep}" filterStyle="width:110px" style="width:120px">
    				<p:cellEditor>
						<f:facet name="output">
							<p:outputLabel value="#{aux.cep}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText id="clienteCep" value="#{aux.cep}" style="width:100%" />
						</f:facet>
					</p:cellEditor>
	  			</p:column>
	  			
	  			<p:column headerText="#{msg['pages.cadastroCliente.uf']}" filterBy="#{aux.uf}" filterStyle="width:40px" style="width:50px">
    				<p:cellEditor>
						<f:facet name="output">
							<p:outputLabel value="#{aux.uf}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText id="clienteUf" value="#{aux.uf}" style="width:100%" />
						</f:facet>
					</p:cellEditor>
	  			</p:column>
	  			
	  			<p:column headerText="#{msg['pages.cadastroCliente.ddd']}" filterBy="#{aux.ddd}" filterStyle="width:50px" style="width:60px">
    				<p:cellEditor>
						<f:facet name="output">
							<p:outputLabel value="#{aux.ddd}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText id="clienteDdd" value="#{aux.ddd}" style="width:100%" />
						</f:facet>
					</p:cellEditor>
	  			</p:column>
	  			
	  			<p:column headerText="#{msg['pages.cadastroCliente.telefone']}" filterBy="#{aux.telefone}" filterStyle="width:140px" style="width:150px">
    				<p:cellEditor>
						<f:facet name="output">
							<p:outputLabel value="#{aux.telefone}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText id="clienteTelefone" value="#{aux.telefone}" style="width:100%" />
						</f:facet>
					</p:cellEditor>
	  			</p:column>
	  			
	  			<p:column headerText="#{msg['pages.cadastroCliente.limiteCred']}" filterBy="#{aux.limiteCred}" filterStyle="width:190px" style="width:200px">
    				<p:cellEditor>
						<f:facet name="output">
							<p:outputLabel value="R$ #{aux.limiteCred}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText id="clienteLimiteCred" value="#{aux.limiteCred}" style="width:100%" />
						</f:facet>
					</p:cellEditor>
	  			</p:column>
	  			
	  			<p:column headerText="#{msg['pages.cadastroCliente.limiteDisp']}" filterBy="#{aux.limiteDisp}" filterStyle="width:190px" style="width:200px">
    				<p:cellEditor>
						<f:facet name="output">
							<p:outputLabel value="R$ #{aux.limiteDisp}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText id="clienteLimiteDiso" value="#{aux.limiteDisp}" style="width:100%" />
						</f:facet>
					</p:cellEditor>
	  			</p:column>
    
      			<p:column style="width:90px" headerText="#{msg['pages.cadastroCliente.optionTable']}">
					<p:rowEditor />
					<p:commandLink 	id="remover" styleClass="ui-icon ui-icon-trash"
									style="text-align:center"
									actionListener="#{clienteBeans.remover(aux)}"
									update="tabelaCliente" />
	  			</p:column>
			</p:dataTable>
		</h:form>
	</ui:define>
</ui:composition>